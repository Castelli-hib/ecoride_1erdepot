/**
 * Bundled by jsDelivr using Rollup v2.79.2 and Terser v5.39.0.
 * Original file: /npm/cadence@3.0.6/cadence.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
var e=[],n={};function t(e,n,t,r,i,s,a){this.parent=e,this.self=n,this.finalizers=[],this.steps=t,this.callback=i,this.loop=s,this.cadence=a||this,this.cadences=[],this.results=[],this.errors=[],this.called=0,this.index=0,this.sync=!0,this.waiting=!1,this.vargs=r}function r(e){var n=e.results.length;return e.results.push([]),e.sync=!1,function(t){if(null==t)for(var r=arguments.length,s=e.results[n],a=1;a<r;a++)s[a-1]=arguments[a];else e.errors.push(t);++e.called===e.results.length&&(e.waiting?i(e):e.sync=!0)}}function i(t){for(var r,a;;){if(t.errors.length)if(t.results.length=0,t.catcher){var l=t.catcher,c=t.errors.splice(0);a=function(){return l.call(t.self,c[0],c)}}else a=null,t.loop=!1;else{if(0==t.results.length){if((r=t.vargs)[0]&&r[0].jump===n){var u=r.shift(),h=t;if(!u.immediate)for(var o=u.cadence||t.cadence;o!==h;)h.loop=!1,h.index=h.steps.length,h=h.parent;h.index=Math.min(u.index,h.steps.length),h.loop=h.loop&&!u.break}}else for(t.vargs=r=t.results.shift();0!=t.results.length;)for(var f=t.results.shift(),p=0,g=f.length;p<g;p++)r.push(f[p]);a=t.steps[t.index++]}if(null==a)if(t.finalizers.length){var d=t.finalizers.pop();c=t.errors.splice(0);a=function(){s((function(){return d.vargs}),[d.steps[0],function(e){if(c.length)throw c[0];throw e}],(function(){if(c.length)throw c[0];return r}))}}else{if(!t.loop){if(t.errors.length){t.callback.apply(null,[t.errors[0]]);break}0!==r.length&&r.unshift(null),t.callback.apply(null,r);break}a=t.steps[0],t.index=1}if(t.called=0,t.sync=!0,t.waiting=!1,t.catcher=null,Array.isArray(a)){if(1===a.length){t.finalizers.push({steps:a,vargs:r});continue}if(2===a.length)t.catcher=a[1],a=a[0];else{if(3!==a.length){t.vargs=[r];continue}var y=a;t.catcher=function(e){if(y[1].test(e.code||e.message))return y[2].call(t,e);throw e},a=a[0]}}e.push(t);try{var v=a.apply(t.self,r);for(void 0!==v&&(t.vargs=Array.isArray(v)?v:[v]);0!=t.cadences.length;)i(t.cadences.shift())}catch(e){t.errors.push(e),t.sync=!0}if(e.pop(),!t.sync){t.waiting=!0;break}}}function s(){var n=e[e.length-1],s=arguments.length;if(!s)return r(n);for(var a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];i(new t(n,n.self,a,[],r(n),!1,n.cadence))}function a(e){return function(){for(var n=arguments.length,t=new Array,r=0;r<n;r++)t.push(arguments[r]);return e(t)}}s.continue={jump:n,index:0,break:!1,immediate:!1},s.break={jump:n,index:1/0,break:!0,immediate:!1},s.return={jump:n,index:1/0,break:!0,immediate:!0},s.loop=a((function(i){var s=e[e.length-1],a=i.shift(),l=new t(s,s.self,i,a,r(s),!0,null);return s.cadences.push(l),{continue:{jump:n,index:0,break:!1,cadence:l,immediate:!1},break:{jump:n,index:1/0,break:!0,cadence:l,immediate:!1}}})),s.block=a((function(e){return e.unshift([]),e.push(a((function(e){return[s.break].concat(e)}))),s.loop.apply(s,e)})),s.forEach=a((function(e){var n=e.shift(),t=n.shift(),r=-1;return e.unshift(n,a((function(e){return++r===t.length?[s.break].concat(e):[t[r],r].concat(e)}))),s.loop.apply(this,e)})),s.map=a((function(e){var n=e.shift(),t=n.shift(),r=-1,i=[];return e.unshift(n,a((function(e){return++r===t.length?[s.break,i]:[t[r],r].concat(e)}))),e.push(a((function(e){i.push.apply(i,e)}))),s.loop.apply(this,e)}));var l=[];var c=function(){for(var e,n=arguments.length,r=new Array,a=0;a<n;a++)r.push(arguments[a]);function c(){var e=arguments.length-1,n=new Array(e+1);n[0]=s;for(var a=0;a<e;a++)n[a+1]=arguments[a];i(new t(null,this,r,n,arguments[a],!1,null))}switch(r[0].length){case 0:e=function(){c.apply(this,arguments)};break;case 1:e=function(e){c.apply(this,arguments)};break;case 2:e=function(e,n){c.apply(this,arguments)};break;case 3:e=function(e,n,t){c.apply(this,arguments)};break;case 4:e=function(e,n,t,r){c.apply(this,arguments)};break;case 5:e=function(e,n,t,r,i){c.apply(this,arguments)};break;case 6:e=function(e,n,t,r,i,s){c.apply(this,arguments)};break;case 7:e=function(e,n,t,r,i,s,a){c.apply(this,arguments)};break;case 8:e=function(e,n,t,r,i,s,a,l){c.apply(this,arguments)};break;case 9:e=function(e,n,t,r,i,s,a,l,u){c.apply(this,arguments)};break;default:for(;l.length<r[0].length+1;){var u=[];for(a=0,n=l.length;a<n;a++)u[a]="_"+a;l.push(new Function("                                   \n                return function (execute) {                                 \n                    return function ("+u.join(",")+") {              \n                        execute.apply(this, arguments)                      \n                    }                                                       \n                }                                                           \n            ")())}e=l[r[0].length](c)}return e.toString=function(){return r[0].toString()},e};export{c as default};

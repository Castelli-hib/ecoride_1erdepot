/**
 * Bundled by jsDelivr using Rollup v2.79.2 and Terser v5.39.0.
 * Original file: /npm/cadence@0.0.12/index.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
var r=[].slice;var t=function(){var t=r.call(arguments,0);function a(r,t,a){var n={callbacks:[{results:[[i].concat(t)]}]};i.call(this,r,0,n,a)}var n=[];function l(){return e.apply(null,arguments)}function e(){var t,a,e=r.call(arguments,0),s=-1;if(null===e[0]||e[0]instanceof Error)return n[0].count=Number.MAX_VALUE,void n[0].callback.apply(null,e);if(1==e.length&&"function"==typeof e[0])for(a=e[0].original||e[0],s=n[0].args[0].length-1;(t=n[0].args[0][s])&&(a!==t&&a!==t.original);s--);~s&&(n[0].args[1]=s,e.shift());var i,f={errors:[],results:[]};if(n[0].callbacks.push(f),(i=e[0]===l)&&e.shift(),isNaN(parseInt(e[0],10))||(f.arity=+e.shift()),Array.isArray(e[0])&&0==e[0].length&&(f.arrayed=!!e.shift()),Error===e[0]&&(n[0].catchable=f.catchable=!!e.shift()),f.cadence=e,e.length){if(!e.every((function(r){return"function"==typeof r})))throw new Error("invalid arguments");if(!i)return function(t,a){var n=0;return a.run=!a.arrayed,function(){var l=r.call(arguments);u(t,a,n++,l)}}(n[0],f)}return f.arrayed?function(t,a){var n=0;return function(){var l=r.call(arguments);if(n<0)throw new Error("zero-to-many already determined");return Array.isArray(l[0])&&(n=-2),c(t,a,n++)}}(n[0],f):c(n[0],f,0)}function c(t,n,l){return-1<l&&t.count++,function(e){var c=r.call(arguments,1);e?s(t,e,n):(l<0?n.results.push(c):n.results[l]=c,n.cadence.length&&(t.count++,a.call(t.self,n.cadence,n.results[l],(function(a,e){a?s(t,a):n.results[l]=r.call(arguments,1),-1<l&&++t.called==t.count&&i.apply(t.self,t.args)}))),c[0]==i&&t.callbacks.filter((function(r){return r.run})).forEach((function(r){u(t,r,0,[])}))),l>-1&&++t.called==t.count&&i.apply(t.self,t.args)}}function u(t,n,l,e){delete n.run;var c=n.cadence;t.count++,a.call(t.self,c,e,(function(a){var e=r.call(arguments,1);a?s(t,a):n.results[l]=e,++t.called==t.count&&i.apply(t.self,t.args)}))}function s(r,t,a){r.args[0][r.index+1]&&a.catchable?a.errors=[t]:(r.abended=!0,r.callback(t))}function i(r,t,a,e){var c,u,s,f=a.callbacks,o=[];if(a.thrown)e(a.thrown);else if(!a.abended){var h=[];if(a.catchable)h=f.filter((function(r){return r.errors.length}));if(r[t]&&a.catchable&&!h.length)a.catchable=!1,i.call(this,r,t+1,a,e);else{if(1==f.length?(f[0].results[0].shift(),f[0].results[0].length||f.shift()):f.shift(),o=h.length?f.filter((function(r){return r.catchable})).map((function(r){return r.errors.shift()})):f.length?function(r,t){var a,n,l,e,c=[];for(n=0;t.length;){(l=t.shift()).arrayed&&(l.results=l.results.filter((function(r){return r.length}))),"arity"in l?e=l.arity:(e=l.arrayed?1:0,l.results.forEach((function(r){e=Math.max(e,r.length)})));for(a=0;a<e;a++)c.push({values:[],arrayed:"arrayed"in l?l.arrayed:l.results.length>1});l.results.forEach((function(r){for(var t=0;t<e;t++)c[n+t].values.push(r[t])})),n+=e}return c.map((function(r){return r.arrayed?r.values:r.values.shift()}))}(0,f):[],r.length==t)return void e.apply(null,[null].concat(o));c=r[t],n.unshift({callbacks:[],count:0,called:0,index:t,callback:e,self:this}),n[0].args=[r,t+1,n[0],e],s=l();try{u=c.apply(this,o)}catch(r){n[0].thrown=r,n[0].called=n[0].count-1}n.shift(),s.apply(this,[null,i].concat(void 0===u?[]:[u]))}}}return function(){var n=r.call(arguments,0),e=function(r){if(r)throw r};n.length&&(e=n.pop()),a.call(this,t,[l].concat(n),e)}};export{t as default};
